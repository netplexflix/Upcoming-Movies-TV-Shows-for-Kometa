services:
  umtk:
    image: netplexflix/umtk:latest
    container_name: umtk
    network_mode: "host" # Use host network to access localhost services
    environment:
      - CRON=0 2 * * * # Run daily at 2am
      - DOCKER=true
      - TZ=America/New_York # Set your timezone
      - PUID=1000 # Set to your user ID (run `id -u` in terminal)
      - PGID=1000 # Set to your group ID (run `id -g` in terminal)
    extra_hosts:
      - "host.docker.internal:host-gateway" # Alternative way to access host
    volumes:
      # Configuration directory (required)
      - ./config:/app/config

      # Video directory for placeholder method (optional - only needed if using method 2)
      - ./video:/video

      # Output directory for generated YAML files (required)
      - ./kometa:/app/kometa

      # Media directories - MUST match your Sonarr/Radarr paths exactly
      - /mnt/media/movies:/media/movies
      - /mnt/media/tv:/media/tv

    restart: unless-stopped